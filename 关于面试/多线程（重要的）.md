进程和线程的区别

线程可以说是轻量级的进程，一个进程中包含多个线程，每个线程一定在进程中存在。每个进程有各自的系统资源，而一个进程中的线程共享系统资源。进程之间切换与线程之间切换相比，切换负担会大很多。



上下文切换，`CPU` 切换线程时间片



线程死锁，避免死锁的方法？

产生死锁的四个条件

1. 互斥条件，该资源任意时刻只由一个线程占用。
2. 请求和保持条件：一个线程因请求资源而阻塞时，对已获得的资源保持不放。
3. 不剥夺条件：线程已获得的资源在未使用完之前不能被其他线程进行强行剥夺，只有自己使用使用完才释放资源。
4. 循环等待条件：若干线程之间形成一种头尾相接的循环等待资源关系。

避免死锁，破坏四个条件中的一个就可以了

1. 互斥条件，不可以破坏，因为锁的作用就是互斥。
2. 请求和保持条件：一次性申请所有的资源，就不出现这种情况了。
3. 不剥夺条件：占用部分资源的线程，在申请其他资源时，如果申请不到，主动释放所占用的资源。
4. 循环等待条件：靠按序申请资源来预防。按某一顺序申请资源，释放资源则反序释放。

`sleep()` 方法和 `wait()` 方法的区别

1. 前者不释放锁，后者释放锁
2. 二者都被视为线程的暂停
3. 后者常用于线程之前的通信
4. `wait（）` 方法会被`notify` 方法唤醒
5. `sleep()` 方法在一定时间后会被自动唤醒